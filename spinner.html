<!DOCTYPE html>
<html>
  <head>
    <title>A Spinner</title>
    <head>
    <script>
      document.write("<h1>Welcome to Spinner Probability Simulator!</h1>");
      document.write('<p>Debug Mode?</p><input type="checkbox" id="debug"> </br>');
      document.write('<p>Percentages or Degrees?Percentage: <input type="radio" id="percentage" name="system" onclick="define()">Degrees:  <input type="radio" id="degrees" name="system" onclick="define()"></p>');
      document.write("<p>Name of the section:</p>");
      document.write('<input type="text" id="name">');
      document.write("<p>Numeric Value:</p>");
      document.write('<input type="number" id="num" min="1" max="100" step="1"> </br>');
      document.write('<input type="button" id="enter" value="Add Section" onclick="add()"> </br>');
      document.write('<input type="button" id="spin" value="When the total is a full circle, click here to spin the wheel!" onclick="spin()">');
      
      var sections = [];
      var total = 0;
      var debug = document.getElementById("debug");
      var percentradio = document.getElementById("percentage");
      var degreeradio = document.getElementById("degrees");
      
      var stdname;
      var stdsymbol;
      var stdmax;
      
      function define()
      {
     	 if(percentradio.checked == true)
      	 {
      		stdname = "percentage";
      		stdsymbol = "%";
      		stdmax = 100;
      	}
      	else if(degreeradio.checked == true)
      	{
      		stdname = "degrees";
      		stdsymbol = "\xB0"
      		stdmax = 360;
      	}
      	if(debug.checked == true)
      	{
      		document.body.innerHTML += "<p>The name is: " +stdname+ " the symbol is: " +stdsymbol+ " and the value is: " +stdmax+ ".</p>";
      	}
      	percentradio.disabled = true;
      	degreeradio.disabled = true;
      }
      
      function add()
      {
      	var box = document.getElementById("name");
      	var xxx = document.getElementById("num");
      	if(debug.checked == true) {
      		document.body.innerHTML += "<p>sections.length is " + sections.length + " </p>";
      		document.body.innerHTML += "<p>xxx.value is " + xxx.value + " </p>";
      	}
      	total = sections.length + Number(xxx.value);
      	if(debug.checked == true) {
      		document.body.innerHTML += "<p>total is " +total+ " </p>";
      	}
      	if(total  <= stdmax) 
      	{
      		for(var i = 0; i < xxx.value; i += 1)
      		{
      			if(debug.checked == true) {
      				document.body.innerHTML += "<p>pushing box.value is " + box.value + " </p>";
      			}
      	  		sections.push(box.value);
      		}
      		document.body.innerHTML += "<p>Added section " +box.value+ " with " +stdname+ " value of: " +xxx.value+ stdsymbol+ "and the total " 
      		+stdname+ " is: " +sections.length+ stdsymbol +"</p>";
      		document.getElementById("total").innerHTML = "The current total " +stdname+ " is: " +sections.length+ stdsymbol;
      	}
      	else if(total > stdmax)
      	{
      		document.getElementById("total").innerHTML = "That would add up to more than " +stdmax+stdsymbol+" " + "sections.length = " +sections.length+ " and number.value = " +xxx.value+" total would be " + total;
      	}
      }
      
      function  spin() 
      {
      	if(sections.length == stdmax)
      	{
        	var selected = Math.round(Math.random() * stdmax);
        	document.getElementById("total").innerHTML = "The Spinner Chose......" +sections[selected]+ "!";
       	}
       	else
       	{
       		document.getElementById("total").innerHTML = "The " +stdname+ " is not " +stdmax+stdsymbol+ " yet!" +(stdmax - sections.length)+ stdsymbol+ " to go!";
       	}
      }
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-50622309-1', 'nuclear-rainbow-chickens.github.io');
  ga('send', 'pageview');

</script>
  </head>
  <body>
    <h2 id="total">The Current Value is</h2>
  	<div>-supermiu</div>
  </body>
</html>
